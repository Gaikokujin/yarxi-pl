<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>Yarxi.PL</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
</head>
<body>
<h1>Yarxi.PL - консольный интерфейс к словарю Яркси.</h1>

<p><b>Оригинальная программа - <a href="http://www.susi.ru/yarxi">Яркси</a>
 - (c) Вадим Смоленский.</b></p>

<a name="about"></a>
<h3>О программе</h3>

<p><b>Yarxi.PL</b> - это программа на языке Perl, которая "понимает" базу данных
<b>Яркси</b> и умеет выводить в текстовую консоль словарные статьи, 
максимально похожие на оригинал.
</p>

<a name="limitations"></a>
<h3>Ограничения</h3>

<p>Программа предназначена для работы в ОС <b>Linux</b>. В прочем, так как программа
написана на языке Perl, то её, скорее всего, можно будет модифицировать и для работы
в других операционных системах. У меня даже получалось запускаеть её под Windows.
</p>
<p>Программа расчитана на локаль <b>UTF-8</b>.</p>

<p>Работа в текстовом режиме накладывает множество ограничений на
возможности программы. В частности, возможна работа только с теми знаками,
которые поддерживаются текущей локалью и шрифтом.
К примеру, в юникоде отсутствует часть радикалов, представленных
в Яркси.</p>

<p>В текущей версии программы реализован только простейший поиск и показ статей. 
Отчасти слабость поиска заключается в том, что пока невозможно искать составные 
слова "как есть" или по частям.
</p>
<p>В версии 1.3 появился поиск по радикалам (опция -r). Алгоритм поиска отличается
от оригинального Яркси. К примеру, иероглиф можно найти даже если указать "лишние" радикалы.
Вместо радикалов можно указывать иероглифы, они будут разбиты на части для поиска.
</p>
<p>Также в версии 1.3 благодаря инициативе Антона Печенко aka Parilo появился минимальный
графический интерфейс. Окно программы представляет из себя поле для ввода команды
и область для вывода результата, работает идентично консольной версии.
</p>
<p>
Принимаются пожелания по дальнейшему улучшению программы, сообщения об ошибках,
 и любые другие комментарии. 
E-Mail: <a href="mailto:bigasoft@gmail.com">bigasoft@gmail.com</a>, он же Jabber.
</p>

<a name="license"></a>
<h3>Лицензия</h3>
<p>Программа распространяется бесплатно, с исходным кодом под лицензией GPLv2.
 Данные словаря Яркси используются с разрешения Вадима Смоленского.</p>

<a name="setup"></a>
<h3>Установка и использование</h3>
<p>Распакуйте архив в любое место, где вам нравится. Например, в "~/.yarxi/".
Возможно понадобится выставить права на исполнение для файла yarxi.pl:
команда "chmod +x yarxi.pl".</p>
<p>Файлы в составе архива:</p>
<p>
<b>yarxi.pl</b> - основной скрипт.<br />
<b>JDFormatter.pm</b>, <b>JDCommon.pm</b>, <b>JDPrinter.pm</b>, <b>JD_AText.pm</b>
     - модули основного скрипта.<br />
<b>JDPrinterGTK.pm</b>, <b>yarxi.gtk.pl</b> - минималистичный графический интерфейс (нужен gtk2-perl).<br />
<b>config/yarxi.conf</b> - конфигурационный файл.<br />
<b>config/*.scheme</b> - файлы цветовых схем.<br />
<b>yarxi_u.db</b> - база данных, с которой работает программа. Отсутствует в облегчённой версии архива.<br />
<b>2db.pl</b> - скрипт для создания базы SQLite, с которой работает программа,
         из файлов словаря <b>jr_kan.txt</b>, <b>jr_tan.txt</b>, <b>jr_ele.txt</b>, <b>jr_str.txt</b>
         и файла <b>jr_rad.utf8</b>.<br />
<b>jr_rad.utf8</b> - файл с таблицей соответствия кодов радикалов символам юникода.<br />
<b>gpl-2.0.txt</b> - текст лицензии GPL.<br />
<b>dbtool.pl</b> - скрипт для осуществления выборок из базы. Вспомогательное средство
         разработчика, хотя может кому-то оказаться полезным, особенно
         при использовании в тандеме с командой <b>grep</b>.<br />
</p>

<p>Для убыстрения доступа советую создать <b>alias</b> на основной скрипт.
Например, для bash нужно прописать в файле <b>~/.bashrc</b> строку 
<b>alias yy='/path/to/script/yarxi.pl'</b>, после чего вы можете вызывать программу
командой "<b>yy</b>".</p>

<p>Чтобы получить описание опций, запустите yarxi.pl с ключом <b>--help</b>.</p>

<a name="config"></a>
<h4>Файл конфигурации</h4>
<p>Файл конфигурации <b>yarxi.conf</b> может располагаться либо в поддиректории <b>config</b>
 директории программы, либо в поддиректории <b>.yarxi</b> директории пользователя (~/.yarxi/yarxi.conf).</p>
<p>В файле настраиваются следующие параметры:</p>
<p><b>cur_trans_type</b> - способ отображения транскрипции: кириллица, латиница (romaji),
 хирагана или катакана.</p>
<p><b>scheme</b> - указывается файл со схемой (путь указывается относительно этого файла).
Если у вас светлый шрифт на тёмном фоне, то выбирайте <b>dark.scheme</b> (по умолчанию).
Если наоборот - тёмный шрифт на светлом фоне, то используйте <b>light.scheme</b>.
Также есть одноцветная схема <b>mono.scheme</b>. Легко можно составить свою схему, только
вам придётся угадывать, какой параметр за какой элемент статьи отвечает.</p>

<a name="2db"></a>
<h4>Генерация базы</h4>
<p>Чтобы создать SQLite базу, с которой работает програма, вам понадобятся файлы
jr_kan.txt, jr_tan.txt, jr_str.txt и jr_ele.txt, которые идут в составе оригинального Яркси.</p>
<p>Два файла - jr_kan.txt и jr_tan.txt - нужно преобразовать в кодировку utf8:<br />
$> iconv -f cp1251 -t utf8 jr_kan.txt > jr_kan.utf8<br/>
$> iconv -f cp1251 -t utf8 jr_tan.txt > jr_tan.utf8<br/>
</p>
<p>И запустить скрипт 2db.pl:<br />
$> ./2db.pl --kan jr_kan.utf8 --tan jr_tan.utf8 --rad jr_rad.utf8 --str jr_str.txt --ele jr_ele.txt<br />
Скрипт создаст файл yarxi_u.db за несколько секунд.<br />
Файл yarxi_u.db нужно положить в ту же директорию, где находится yarxi.pl.
</p>

<a name="thanks"></a>
<h3>Благодарности</h3>
<p>Автор благодарит <b>Вадима Смоленского</b> за замечательную программу Яркси
и за сотрудничество при написании этой консольной версии для Linux.</p>

<p>Также автор благодарит <b>Алексея Кожевникова</b>, чья программа 
<a href="http://rathouse.ru/index.php?position=14">JARUDO</a> 
(а точнее её исходный код) вдохновили меня к созданию консольного
фронтенда для словаря Яркси.
</p>
<p>Автор благодарен Антону Печенко aka Parilo за инициативу по созданию графического интерфейса.</p>
<h4>Спасибо!</h4>

<a name="history"></a>
<h3>История</h3>
<p>
Релиз 1.3 - 02 февраля 2010 г. Используется база данных Яркси (5.3). Появился поиск по радикалам и небольшой графический интерфейс.<br />
Релиз 1.2 - 18 ноября 2009 г. Используется база данных Яркси (5.3).<br />
Релиз 1.1 - 2 августа 2009 г. Используется база данных Яркси (5.2) от 1 августа 2009 г.<br />
Релиз 1.0 - 3 февраля 2008 г. Используется база данных Яркси от 25 января 2008 г.<br />
</p>

<hr />
<a name="bottom"></a>
<p style="text-align:center;color:gray">Copyright (C) 2007-2010  Андрей Смачёв 
    aka <a href="mailto:bigasoft@gmail.com">Biga</a>.</p>
</body>
</html>
